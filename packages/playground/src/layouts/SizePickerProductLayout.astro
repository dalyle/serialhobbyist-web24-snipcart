---
import type { SnipcartProduct, ProductMeta } from '@lloydjatkinson/astro-snipcart';
import { StorePageLayout, ProductPageWithSizePicker } from '@lloydjatkinson/astro-snipcart-design-system/astro';

import { headerPageLinks, footerPageLinks } from './config';

export type Props = SnipcartProduct & ProductMeta;
const product = Astro.props.content as SnipcartProduct & ProductMeta;
---
<StorePageLayout
    title={ product.name }
    description={ product.description }
    headerLinks={ headerPageLinks }
    footerLinks={ footerPageLinks }
    image={ product.image }
    storeName="Astro Snipcart Integration"
    useDefaultLogo="hexagon"
    { ...(product.price <= product.originalPrice ? { banner: 'This product is on sale, get it now!' } : {}) }>
    <ProductPageWithSizePicker
        { ...product }>
        <slot />
    </ProductPageWithSizePicker>
</StorePageLayout>